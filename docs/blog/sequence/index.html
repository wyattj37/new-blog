<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="light">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>The Worst Feasible Sequence AI | Wyatt Johnston</title>
<meta name="keywords" content="cards, card games, board games">
<meta name="description" content="Reasonable Expectations
When I first started to make this post, my plan was something much more involved. I was going to replicate the strategies used by the labs that made bots like Pluribus (for poker) and AlphaGo (for go) for the board game Sequence (see here).
In order to do that, I would need to make a fully functioning Sequence game with all the logic, make the computer play itself over and over for millions of games, record the moves and board states to create training data, use some neural network to evaluate potential moves along with a Monte Carlo Tree Search, and probably many other complicated steps and headaches along the way.">
<meta name="author" content="Wyatt Johnston">
<link rel="canonical" href="https://wyatt-johnston.com/blog/sequence/">
<link crossorigin="anonymous" href="https://wyatt-johnston.com/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css" integrity="sha256-NDzEgLn/yPBMy&#43;XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://wyatt-johnston.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://wyatt-johnston.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://wyatt-johnston.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://wyatt-johnston.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://wyatt-johnston.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://wyatt-johnston.com/blog/sequence/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    }

</script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.27/dist/katex.min.css" integrity="sha384-Pu5+C18nP5dwykLJOhd2U4Xen7rjScHN/qusop27hdd2drI+lL5KvX7YntvT8yew" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.27/dist/katex.min.js" integrity="sha384-2B8pfmZZ6JlVoScJm/5hQfNS2TI/6hPqDZInzzPc8oHpN5SgeNOf4LzREO6p5YtZ" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.27/dist/contrib/auto-render.min.js" integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh" crossorigin="anonymous"></script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          
          
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
              {left: '\\(', right: '\\)', display: false},
              {left: '\\[', right: '\\]', display: true}
          ],
          
          throwOnError : false
        });
    });
</script>


<meta property="og:title" content="Wyatt Johnston" />
<meta property="og:description" content="PhD student in Operations Research at UT Austin" />
<meta property="og:image" content="https://wyatt-johnston.com/images/preview.png" />
<meta property="og:url" content="https://wyatt-johnston.com/" />
<meta property="og:type" content="website" />


<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://wyatt-johnston.com/images/preview.png" />
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://wyatt-johnston.com/" accesskey="h" title="Wyatt Johnston (Alt + H)">
                <img src="https://wyatt-johnston.com/favicon.ico" alt="" aria-label="logo"
                    height="44">Wyatt Johnston</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://wyatt-johnston.com/" title="About">
                    <span>About</span>
                </a>
            </li>
            <li>
                <a href="https://wyatt-johnston.com/blog/" title="Blog">
                    <span>Blog</span>
                </a>
            </li>
            <li>
                <a href="https://wyatt-johnston.com/research/" title="Research">
                    <span>Research</span>
                </a>
            </li>
            <li>
                <a href="https://wyatt-johnston.com/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="https://wyatt-johnston.com/crossword/" title="Crossword">
                    <span>Crossword</span>
                </a>
            </li>
            <li>
                <a href="https://wyatt-johnston.com/tutoring/" title="Tutoring">
                    <span>Tutoring</span>
                </a>
            </li>
            <li>
                <a href="https://wyatt-johnston.com/cv.pdf" title="CV">
                    <span>CV</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      The Worst Feasible Sequence AI
    </h1>
    <div class="post-meta"><span title='2025-03-24 00:00:00 +0000 UTC'>March 24, 2025</span>

</div>
  </header> 
  <div class="post-content"><h3 id="reasonable-expectations">Reasonable Expectations<a hidden class="anchor" aria-hidden="true" href="#reasonable-expectations">#</a></h3>
<p>When I first started to make this post, my plan was something much more involved. I was going to replicate the strategies used by the labs that made bots like Pluribus (for poker) and AlphaGo (for go) for the board game Sequence (see <a href="https://en.wikipedia.org/wiki/Sequence_(game)">here</a>).</p>
<p>In order to do that, I would need to make a fully functioning Sequence game with all the logic, make the computer play itself over and over for millions of games, record the moves and board states to create training data, use some neural network to evaluate potential moves along with a Monte Carlo Tree Search, and probably many other complicated steps and headaches along the way.</p>
<p>That stuff is interesting and all, but I realized it would entail months of work for a game that just isn&rsquo;t <em>that</em> hard. In fact, if I had 5 minutes to explain the game to a complete beginner, then showed them a hand and a random board state, they would probably make a move that is at least fine. Also, the outcome of the game has a large luck component based on the number of Jacks (wild cards) that a player is dealt.</p>
<p>Given the simplicity and luck factor, what I guessed is that you could probably make an &ldquo;AI&rdquo; that wins at least some games against humans without being robust at all - maybe just a handful of rules. And that is what I have set out to do: make the worst feasible Sequence AI.</p>
<h3 id="the-rules">The Rules<a hidden class="anchor" aria-hidden="true" href="#the-rules">#</a></h3>
<p>The first of two rules will be dedicated to using Jacks (wild cards).</p>
<ol>
<li>The program will use a two-eyed Jack (offensive wild card) if and only if it completes a sequence.</li>
</ol>
<p>The second rule concerns the placement of all other cards:</p>
<ol start="2">
<li>The card will be used which has the largest score in its surrounding 4x4 box of squares.</li>
</ol>
<p>I will go into further detail what I mean by &ldquo;score&rdquo; in the next section, but I assure you it is not complicated.</p>
<h3 id="the-implementation-all-offense">The Implementation (All Offense)<a hidden class="anchor" aria-hidden="true" href="#the-implementation-all-offense">#</a></h3>
<p>I will be using a 2D array the same size as the board to represent the Sequence board. The values of the squares (places in the 2D array) can have the following values:</p>
<ul>
<li>
<p>1 = own chip already placed there / free space</p>
</li>
<li>
<p>-1 = opponent chip already placed there</p>
</li>
<li>
<p>0 = empty</p>
</li>
<li>
<p>.33 = potential to be filled based on card in possession</p>
</li>
</ul>
<p>The aforementioned &ldquo;score&rdquo; will be calculated as the sum of the squares in the surrounding 4x4 box WITHOUT taking into account the opponent&rsquo;s chips. For now, I am foregoing any sort of defensive measure, including One-Eyed jacks that can remove opposing chips.</p>
<p>There was some work involved in finding one-away sequences and full sequences, and some slight headaches converting cards to board positions, especially since every card appears twice. Besides those items and calculating the score for each card, there isn&rsquo;t much else.</p>
<p>One last note: once the bot plays a sequence, it turns all of those spaces into a -1 value. Otherwise I&rsquo;m guessing it would just keep playing around the chips that are no longer relevant.</p>
<h3 id="two-games-later">Two Games Later<a hidden class="anchor" aria-hidden="true" href="#two-games-later">#</a></h3>
<p>Couple of bugs to deal with these first two games. Mostly to do with duplicate cards. First, whenever a card is played which there are multiple of in the hand, both cards are deleted. For instance if there are two 3 of Clubs and one is played, both are deleted. That should be an easy enough to fix. Another is that when a card is picked up that it already played, it will try and play in the same spot again. Once again, simple oversight.</p>
<p>A bigger issue came to my attention when the bot wouldn&rsquo;t play the game-winning Two-Eyed Jack because it overlapped with a previous sequence. Now the fact it got a sequence at all is a massive win. But this situation happens fairly often and it will take some work to address. Each new sequence can contain exactly one chip from a previous sequence. So I will change the &ldquo;old sequence&rdquo; chips to be a value of -2 and then adjust the logic to account for that.</p>
<h3 id="four-games-later">Four Games Later<a hidden class="anchor" aria-hidden="true" href="#four-games-later">#</a></h3>
<p>That&rsquo;s a W folks. It wasn&rsquo;t a clean win, but as I suspected with the Two-Eyed Jack advantage it got the job done. Even with a bug I forgot to fix that kept the winning move from being played for 3 or 4 turns. Once I fix that I&rsquo;ll upload to my <a href="https://github.com/wyattj37">GitHub</a> with instructions how to use it - it&rsquo;s a little janky but the computer really does do all the decision making.</p>
<h3 id="example-outputs">Example Outputs<a hidden class="anchor" aria-hidden="true" href="#example-outputs">#</a></h3>
<p>Below is a picture of a typical turn of the game.</p>
<div style="text-align: center;">
  <img src="https://wyatt-johnston.com/images/sequence/sequence_output.png" style="width:80%;">
</div>
<p>&ldquo;Play Ks1&rdquo; indicates the user plays the King of Spades on the top half of the board. 10d1 is entered to indicate the 10 of Diamonds was drawn afterwards. &ldquo;2h2&rdquo; is entered to indicate the opponent played the 2 of Hearts in the bottom half of the board in response.</p>
<p>In the board, you&rsquo;ll notice all the 1&rsquo;s indicate chips that are previously played, -1&rsquo;s are opponent chips, 0&rsquo;s are empty, and .33&rsquo;s are empty but the user has a card that could be played there.</p>
<p>Here is another example of a turn, except this time the opponent played a one-eyed jack:</p>
<div style="text-align: center;">
  <img src="https://wyatt-johnston.com/images/sequence/sequence_output_jack.png" style="width:80%;">
</div>
<p>Whenever the &ldquo;Where?&rdquo; input is entered, the square that used to contain a user chip will return back to a 0 or .33, depending if that card is held by the user.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://wyatt-johnston.com/tags/cards/">Cards</a></li>
      <li><a href="https://wyatt-johnston.com/tags/card-games/">Card Games</a></li>
      <li><a href="https://wyatt-johnston.com/tags/board-games/">Board Games</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://wyatt-johnston.com/">Wyatt Johnston</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><div class="footer-social-icons" style="margin-top: 1rem; text-align: center;">
  <a href="mailto:wyattdj2@illinois.edu" target="_blank" aria-label="Email" style="margin: 0 0.5rem;">
    
  </a>
  <a href="https://github.com/wyattj37" target="_blank" aria-label="GitHub" style="margin: 0 0.5rem;">
    
  </a>
  <a href="https://linkedin.com/in/wyatt-d-johnston" target="_blank" aria-label="LinkedIn" style="margin: 0 0.5rem;">
    
  </a>
</div>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
